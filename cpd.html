<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from org.apache.maven.plugins:maven-pmd-plugin:3.19.0:aggregate-cpd at 2022-12-31
 | Rendered using Apache Maven Fluido Skin 1.10.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Modello &#x2013; CPD Results</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.10.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-1.10.0.min.js"></script>
  </head>
  <body class="topBarDisabled">
    <div class="container-fluid">
      <header>
        <div id="banner">
          <div class="pull-left"><a href="./" id="bannerLeft"><h2>Modello</h2>
</a></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li class=""><a href="index.html" title="Modello">Modello</a><span class="divider">/</span></li>
    <li class="active ">CPD Results</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2022-12-31</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 2.1.0</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://maven.apache.org/" class="externalLink" title="Apache Maven">Apache Maven</a></li>
      <li class="pull-right"><a href="../" title="Codehaus Plexus">Codehaus Plexus</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a></li>
    <li><a href="modello.html" title="Modello Model"><span class="none"></span>Modello Model</a></li>
    <li><a href="location-tracking.html" title="Location Tracking"><span class="none"></span>Location Tracking</a></li>
    <li><a href="modello-maven-plugin/" title="Maven Plugin"><span class="none"></span>Maven Plugin</a></li>
    <li><a href="release-notes.html" title="Release Notes"><span class="none"></span>Release Notes</a></li>
    <li><a href="migration-guide.html" title="Migration Guide"><span class="none"></span>Migration Guide</a></li>
   <li class="nav-header">Modules</li>
    <li><a href="modello-maven-plugin/index.html" title="Modello Maven Plugin"><span class="none"></span>Modello Maven Plugin</a></li>
    <li><a href="modello-core/index.html" title="Modello Core"><span class="none"></span>Modello Core</a></li>
    <li><a href="modello-test/index.html" title="Modello Test Package"><span class="none"></span>Modello Test Package</a></li>
    <li><a href="modello-plugins/index.html" title="Modello Plugins"><span class="none"></span>Modello Plugins</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-down"></span>Project Reports</a>
     <ul class="nav nav-list">
      <li><a href="surefire-report.html" title="Surefire Report"><span class="none"></span>Surefire Report</a></li>
      <li class="active"><a href="#"><span class="none"></span>CPD</a></li>
      <li><a href="pmd.html" title="PMD"><span class="none"></span>PMD</a></li>
      <li><a href="xref/index.html" title="Source Xref"><span class="none"></span>Source Xref</a></li>
      <li><a href="xref-test/index.html" title="Test Source Xref"><span class="none"></span>Test Source Xref</a></li>
     </ul></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
<form id="search-form" action="https://www.google.com/search" method="get" >
  <input value="http://codehaus-plexus.github.io/modello/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script>asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
            <hr />
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
<a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn"  class="span10" >
<section>
<h2><a name="CPD_Results"></a>CPD Results</h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="https://pmd.github.io/latest/pmd_userdocs_cpd.html">CPD</a> 6.49.0.</p></section><section>
<h2><a name="Duplications"></a>Duplications</h2>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L968">968</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L1054">1054</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>jClass.addMethod( method );
    }

    private void addTrackingParameters( JMethod method )
    {
        if ( sourceTracker != null )
        {
            method.addParameter( new JParameter( new JClass( sourceTracker.getName() ), SOURCE_PARAM ) );
        }
    }

    private void writeNewSetLocation( ModelField field, String objectName, String trackerVariable, JSourceCode sc )
    {
        writeNewSetLocation( &quot;\&quot;&quot; + field.getName() + &quot;\&quot;&quot;, objectName, trackerVariable, sc );
    }

    private void writeNewSetLocation( String key, String objectName, String trackerVariable, JSourceCode sc )
    {
        writeNewLocation( trackerVariable, sc );
        writeSetLocation( key, objectName, trackerVariable, sc );
    }

    private void writeNewLocation( String trackerVariable, JSourceCode sc )
    {
        if ( locationTracker == null )
        {
            return;
        }

        String constr = &quot;new &quot; + locationTracker.getName() + &quot;( parser.getLineNumber(), parser.getColumnNumber()&quot;;
        constr += ( sourceTracker != null ) ? &quot;, &quot; + SOURCE_PARAM : &quot;&quot;;
        constr += &quot; )&quot;;

        sc.add( ( ( trackerVariable != null ) ? trackerVariable : LOCATION_VAR ) + &quot; = &quot; + constr + &quot;;&quot; );
    }

    private void writeSetLocation( String key, String objectName, String trackerVariable, JSourceCode sc )
    {
        if ( locationTracker == null )
        {
            return;
        }

        String variable = ( trackerVariable != null ) ? trackerVariable : LOCATION_VAR;

        sc.add( objectName + &quot;.set&quot; + capitalise( singular( locationField ) ) + &quot;( &quot; + key + &quot;, &quot; + variable + &quot; );&quot; );
    }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L529">529</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L589">589</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>+ &quot;' data to start with an Array\&quot;, parser.getCurrentLocation() );&quot; );
                    sc.add( &quot;}&quot; );

                    JavaFieldMetadata javaFieldMetadata = (JavaFieldMetadata) association.getMetadata( JavaFieldMetadata.ID );

                    String adder;

                    if ( javaFieldMetadata.isGetter() &amp;&amp; javaFieldMetadata.isSetter() )
                    {
                        sc.add( type + &quot; &quot; + associationName + &quot; = &quot; + objectName + &quot;.get&quot; + capFieldName + &quot;();&quot; );

                        sc.add( &quot;if ( &quot; + associationName + &quot; == null )&quot; );

                        sc.add( &quot;{&quot; );
                        sc.indent();

                        sc.add( associationName + &quot; = &quot; + association.getDefaultValue() + &quot;;&quot; );

                        sc.add( objectName + &quot;.set&quot; + capFieldName + &quot;( &quot; + associationName + &quot; );&quot; );

                        sc.unindent();
                        sc.add( &quot;}&quot; );

                        adder = associationName + &quot;.add&quot;;
                    }
                    else
                    {
                        adder = objectName + &quot;.add&quot; + association.getTo();
                    }

                    if ( !inModel &amp;&amp; locationTracker != null )
                    {
                        sc.add( locationTracker.getName() + &quot; &quot; + LOCATION_VAR + &quot;s = &quot; + objectName + &quot;.get&quot;
                                    + capitalise( singular( locationField ) ) + &quot;( \&quot;&quot; + field.getName()
                                    + &quot;\&quot; );&quot; );
                        sc.add( &quot;if ( &quot; + LOCATION_VAR + &quot;s == null )&quot; );
                        sc.add( &quot;{&quot; );
                        sc.indent();
                        writeNewSetLocation( field, objectName, LOCATION_VAR + &quot;s&quot;, sc );
                        sc.unindent();
                        sc.add( &quot;}&quot; );
                    }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L206">206</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L229">229</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>sc.add( &quot;JsonParser parser = factory.createParser( reader );&quot; );

        sc.add( &quot;return &quot; + readerMethodName + &quot;( parser, strict );&quot; );

        jClass.addMethod( unmarshall );unmarshall = new JMethod( readerMethodName, new JClass( className ), null );

        unmarshall.addParameter( new JParameter( new JClass( &quot;Reader&quot; ), &quot;reader&quot; ) );

        unmarshall.addException( new JClass( &quot;IOException&quot; ) );

        sc = unmarshall.getSourceCode();
        sc.add( &quot;return &quot; + readerMethodName + &quot;( reader, true );&quot; );

        jClass.addMethod( unmarshall );

        // ----------------------------------------------------------------------
        // Write the read(InputStream[,boolean]) methods which will do the unmarshalling.
        // ----------------------------------------------------------------------

        unmarshall = new JMethod( readerMethodName, new JClass( className ), null );

        unmarshall.addParameter( new JParameter( new JClass( &quot;InputStream&quot; ), &quot;in&quot; ) );
        unmarshall.addParameter( new JParameter( JClass.BOOLEAN, &quot;strict&quot; ) );
        addTrackingParameters( unmarshall );

        unmarshall.addException( new JClass( &quot;IOException&quot; ) );

        sc = unmarshall.getSourceCode();

        sc.add( &quot;return &quot; + readerMethodName + &quot;( new InputStreamReader( in ), strict&quot; + trackingArgs + &quot; );&quot; );

        jClass.addMethod( unmarshall );unmarshall = new JMethod( readerMethodName, new JClass( className ), null );

        unmarshall.addParameter( new JParameter( new JClass( &quot;InputStream&quot; ), &quot;in&quot; ) );

        unmarshall.addException( new JClass( &quot;IOException&quot; ) );

        sc = unmarshall.getSourceCode();

        sc.add( &quot;return &quot; + readerMethodName + &quot;( in, true );&quot; );

        jClass.addMethod( unmarshall );

        // --------------------------------------------------------------------
    }

    private void generateJacksonReader()</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.html#L894">894</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L970">970</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;attribute&quot; ) );

        sc = method.getSourceCode();

        sc.add( &quot;if ( s != null )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;return s.charAt( 0 );&quot; );
        sc.add( &quot;}&quot; );

        sc.add( &quot;return 0;&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getIntegerValue&quot;, JType.INT, &quot;Integer.valueOf( s ).intValue()&quot;, &quot;an integer&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getShortValue&quot;, JType.SHORT, &quot;Short.valueOf( s ).shortValue()&quot;,
                                       &quot;a short integer&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getByteValue&quot;, JType.BYTE, &quot;Byte.valueOf( s ).byteValue()&quot;, &quot;a byte&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getLongValue&quot;, JType.LONG, &quot;Long.valueOf( s ).longValue()&quot;, &quot;a long integer&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getFloatValue&quot;, JType.FLOAT, &quot;Float.valueOf( s ).floatValue()&quot;,
                                       &quot;a floating point number&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getDoubleValue&quot;, JType.DOUBLE, &quot;Double.valueOf( s ).doubleValue()&quot;,
                                       &quot;a floating point number&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = new JMethod( &quot;getDateValue&quot;, new JClass( &quot;java.util.Date&quot; ), null );
        method.getModifiers().makePrivate();

        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;s&quot; ) );
        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;attribute&quot; ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L116">116</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L111">111</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>throw new ModelloException( &quot;Exception while generating Jackson Reader.&quot;, ex );
        }
    }

    private void writeAllClassesReaders( Model objectModel, JClass jClass )
    {
        ModelClass root = objectModel.getClass( objectModel.getRoot( getGeneratedVersion() ), getGeneratedVersion() );

        for ( ModelClass clazz : getClasses( objectModel ) )
        {
            if ( isTrackingSupport( clazz ) )
            {
                continue;
            }

            writeClassReaders( clazz, jClass, root.getName().equals( clazz.getName() ) );
        }
    }

    private void writeClassReaders( ModelClass modelClass, JClass jClass, boolean rootElement )
    {
        JavaClassMetadata javaClassMetadata =
            (JavaClassMetadata) modelClass.getMetadata( JavaClassMetadata.class.getName() );

        // Skip abstract classes, no way to parse them out into objects
        if ( javaClassMetadata.isAbstract() )
        {
            return;
        }

        XmlClassMetadata xmlClassMetadata = (XmlClassMetadata) modelClass.getMetadata( XmlClassMetadata.ID );
        if ( !rootElement &amp;&amp; !xmlClassMetadata.isStandaloneRead() )
        {
            return;
        }

        String className = modelClass.getName();

        String capClassName = capitalise( className );

        String readerMethodName = &quot;read&quot;;
        if ( !rootElement )
        {
            readerMethodName += capClassName;
        }

        // ----------------------------------------------------------------------
        // Write the read(JsonParser) method which will do the unmarshalling.
        // ----------------------------------------------------------------------

        JMethod unmarshall = new JMethod( readerMethodName, new JClass( className ), null );
        unmarshall.getModifiers().makePrivate();

        unmarshall.addParameter( new JParameter( new JClass( &quot;JsonParser&quot; ), &quot;parser&quot; ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/java/JavaModelloGenerator.java</td>
<td>Modello Java Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/java/JavaModelloGenerator.html#L1145">1145</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/java/JavaModelloGenerator.java</td>
<td>Modello Java Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/java/JavaModelloGenerator.html#L1192">1192</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>sc = jMethod.getSourceCode();
        sc.add( &quot;if ( source == null )&quot; );
        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;return target;&quot; );
        sc.add( &quot;}&quot; );
        sc.add( &quot;else if ( target == null )&quot; );
        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;return source;&quot; );
        sc.add( &quot;}&quot; );
        sc.add( &quot;&quot; );
        sc.add( locationClass.getName() + &quot; result =&quot; );
        sc.add( &quot;    new &quot; + locationClass.getName() + &quot;( target.getLineNumber(), target.getColumnNumber()&quot; + (
            sourceClass != null
                ? &quot;, target.get&quot; + capitalise( source.getName() ) + &quot;()&quot;
                : &quot;&quot; ) + &quot; );&quot; );
        sc.add( &quot;&quot; );
        sc.add( fieldType + &quot; locations;&quot; );
        sc.add( fieldType + &quot; sourceLocations = source.get&quot; + capitalise( locationsField ) + &quot;();&quot; );
        sc.add( fieldType + &quot; targetLocations = target.get&quot; + capitalise( locationsField ) + &quot;();&quot; );
        sc.add( &quot;if ( sourceLocations == null )&quot; );
        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;locations = targetLocations;&quot; );
        sc.add( &quot;}&quot; );
        sc.add( &quot;else if ( targetLocations == null )&quot; );
        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;locations = sourceLocations;&quot; );
        sc.add( &quot;}&quot; );
        sc.add( &quot;else&quot; );
        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;locations = new &quot; + fieldImpl.getName() + &quot;();&quot; );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L116">116</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L111">111</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.html#L103">103</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>throw new ModelloException( &quot;Exception while generating Jackson Reader.&quot;, ex );
        }
    }

    private void writeAllClassesReaders( Model objectModel, JClass jClass )
    {
        ModelClass root = objectModel.getClass( objectModel.getRoot( getGeneratedVersion() ), getGeneratedVersion() );

        for ( ModelClass clazz : getClasses( objectModel ) )
        {
            if ( isTrackingSupport( clazz ) )
            {
                continue;
            }

            writeClassReaders( clazz, jClass, root.getName().equals( clazz.getName() ) );
        }
    }

    private void writeClassReaders( ModelClass modelClass, JClass jClass, boolean rootElement )
    {
        JavaClassMetadata javaClassMetadata =
            (JavaClassMetadata) modelClass.getMetadata( JavaClassMetadata.class.getName() );

        // Skip abstract classes, no way to parse them out into objects
        if ( javaClassMetadata.isAbstract() )
        {
            return;
        }

        XmlClassMetadata xmlClassMetadata = (XmlClassMetadata) modelClass.getMetadata( XmlClassMetadata.ID );
        if ( !rootElement &amp;&amp; !xmlClassMetadata.isStandaloneRead() )
        {
            return;
        }

        String className = modelClass.getName();

        String capClassName = capitalise( className );

        String readerMethodName = &quot;read&quot;;
        if ( !rootElement )
        {
            readerMethodName += capClassName;
        }

        // ----------------------------------------------------------------------
        // Write the read(JsonParser) method which will do the unmarshalling.
        // ----------------------------------------------------------------------

        JMethod unmarshall = new JMethod( readerMethodName, new JClass( className ), null );
        unmarshall.getModifiers().makePrivate();</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L327">327</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.html#L448">448</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>}

        jClass.print( sourceWriter );

        sourceWriter.close();
    }

    private void writeAllClassesParser( Model objectModel, JClass jClass )
    {
        ModelClass root = objectModel.getClass( objectModel.getRoot( getGeneratedVersion() ), getGeneratedVersion() );

        for ( ModelClass clazz : getClasses( objectModel ) )
        {
            if ( isTrackingSupport( clazz ) )
            {
                continue;
            }

            writeClassParser( clazz, jClass, root.getName().equals( clazz.getName() ) );
        }
    }

    private void writeClassParser( ModelClass modelClass, JClass jClass, boolean rootElement )
    {
        JavaClassMetadata javaClassMetadata =
            (JavaClassMetadata) modelClass.getMetadata( JavaClassMetadata.class.getName() );

        // Skip abstract classes, no way to parse them out into objects
        if ( javaClassMetadata.isAbstract() )
        {
            return;
        }

        String className = modelClass.getName();

        String capClassName = capitalise( className );

        String uncapClassName = uncapitalise( className );

        JMethod unmarshall = new JMethod( &quot;parse&quot; + capClassName, new JClass( className ), null );
        unmarshall.getModifiers().makePrivate();

        unmarshall.addParameter( new JParameter( new JClass( &quot;JsonParser&quot; ), &quot;parser&quot; ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L329">329</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L340">340</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.html#L454">454</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>jClass.print( sourceWriter );

        sourceWriter.close();
    }

    private void writeAllClassesParser( Model objectModel, JClass jClass )
    {
        ModelClass root = objectModel.getClass( objectModel.getRoot( getGeneratedVersion() ), getGeneratedVersion() );

        for ( ModelClass clazz : getClasses( objectModel ) )
        {
            if ( isTrackingSupport( clazz ) )
            {
                continue;
            }

            writeClassParser( clazz, jClass, root.getName().equals( clazz.getName() ) );
        }
    }

    private void writeClassParser( ModelClass modelClass, JClass jClass, boolean rootElement )
    {
        JavaClassMetadata javaClassMetadata =
            (JavaClassMetadata) modelClass.getMetadata( JavaClassMetadata.class.getName() );

        // Skip abstract classes, no way to parse them out into objects
        if ( javaClassMetadata.isAbstract() )
        {
            return;
        }

        String className = modelClass.getName();

        String capClassName = capitalise( className );

        String uncapClassName = uncapitalise( className );

        JMethod unmarshall = new JMethod( &quot;parse&quot; + capClassName, new JClass( className ), null );
        unmarshall.getModifiers().makePrivate();

        unmarshall.addParameter( new JParameter( new JClass( &quot;JsonParser&quot; ), &quot;parser&quot; ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.html#L894">894</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L970">970</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/stax/StaxReaderGenerator.java</td>
<td>Modello StAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/stax/StaxReaderGenerator.html#L1722">1722</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;attribute&quot; ) );

        sc = method.getSourceCode();

        sc.add( &quot;if ( s != null )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;return s.charAt( 0 );&quot; );
        sc.add( &quot;}&quot; );

        sc.add( &quot;return 0;&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getIntegerValue&quot;, JType.INT, &quot;Integer.valueOf( s ).intValue()&quot;, &quot;an integer&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getShortValue&quot;, JType.SHORT, &quot;Short.valueOf( s ).shortValue()&quot;,
                                       &quot;a short integer&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getByteValue&quot;, JType.BYTE, &quot;Byte.valueOf( s ).byteValue()&quot;, &quot;a byte&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getLongValue&quot;, JType.LONG, &quot;Long.valueOf( s ).longValue()&quot;, &quot;a long integer&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getFloatValue&quot;, JType.FLOAT, &quot;Float.valueOf( s ).floatValue()&quot;,
                                       &quot;a floating point number&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = convertNumericalType( &quot;getDoubleValue&quot;, JType.DOUBLE, &quot;Double.valueOf( s ).doubleValue()&quot;,
                                       &quot;a floating point number&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = new JMethod( &quot;getDateValue&quot;, new JClass( &quot;java.util.Date&quot; ), null );
        method.getModifiers().makePrivate();</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/sax/SaxWriterGenerator.java</td>
<td>Modello SAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/sax/SaxWriterGenerator.html#L381">381</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.html#L331">331</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>sc.add( &quot;writeText( &quot; + getValue( contentField.getType(), contentValue, xmlFieldMetadata ) + &quot;, contentHandler );&quot; );
        }

        // XML tags
        for ( ModelField field : modelFields )
        {
            XmlFieldMetadata xmlFieldMetadata = (XmlFieldMetadata) field.getMetadata( XmlFieldMetadata.ID );

            if ( xmlFieldMetadata.isContent() )
            {
                // skip field with type Content
                continue;
            }

            JavaFieldMetadata javaFieldMetadata = (JavaFieldMetadata) field.getMetadata( JavaFieldMetadata.ID );

            String fieldTagName = resolveTagName( field, xmlFieldMetadata );

            String type = field.getType();

            String value = uncapClassName + &quot;.&quot; + getPrefix( javaFieldMetadata ) + capitalise( field.getName() ) + &quot;()&quot;;

            if ( xmlFieldMetadata.isAttribute() )
            {
                continue;
            }

            if ( field instanceof ModelAssociation )
            {
                ModelAssociation association = (ModelAssociation) field;

                String associationName = association.getName();

                if ( association.isOneMultiplicity() )
                {
                    sc.add( getValueChecker( type, value, association ) );

                    sc.add( &quot;{&quot; );
                    sc.addIndented( &quot;write&quot; + association.getTo() + &quot;( (&quot; + association.getTo() + &quot;) &quot; + value + &quot;, \&quot;&quot;
                                    + fieldTagName + &quot;\&quot;, contentHandler, attributes );&quot; );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L438">438</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.html#L633">633</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>}

    /**
     * Generate code to process a field represented as an XML element.
     *
     * @param field            the field to process
     * @param xmlFieldMetadata its XML metadata
     * @param addElse          add an &lt;code&gt;else&lt;/code&gt; statement before generating a new &lt;code&gt;if&lt;/code&gt;
     * @param sc               the method source code to add to
     * @param objectName       the object name in the source
     * @param jClass           the generated class source file
     */
    private void processField( ModelField field, XmlFieldMetadata xmlFieldMetadata, boolean addElse, JSourceCode sc,
                               String objectName, JClass jClass )
    {
        String fieldTagName = resolveTagName( field, xmlFieldMetadata );

        String capFieldName = capitalise( field.getName() );

        String singularName = singular( field.getName() );

        String alias;
        if ( StringUtils.isEmpty( field.getAlias() ) )
        {
            alias = &quot;null&quot;;
        }
        else
        {
            alias = &quot;\&quot;&quot; + field.getAlias() + &quot;\&quot;&quot;;
        }

        String tagComparison =
            ( addElse ? &quot;else &quot; : &quot;&quot; ) + &quot;if ( checkFieldWithDuplicate( parser, \&quot;&quot; + fieldTagName + &quot;\&quot;, &quot; + alias
                + &quot;, parsed ) )&quot;;

        if ( !( field instanceof ModelAssociation ) )
        { // model field
            sc.add( tagComparison );

            sc.add( &quot;{&quot; );

            sc.indent();

            writePrimitiveField( field, field.getType(), objectName, objectName, &quot;\&quot;&quot; + field.getName() + &quot;\&quot;&quot;,
                                 &quot;set&quot; + capFieldName, sc, false );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/velocity/Helper.java</td>
<td>Modello Velocity Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/velocity/Helper.html#L156">156</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugins/xml/XmlModelHelpers.java</td>
<td>Modello XML Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugins/xml/XmlModelHelpers.html#L196">196</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>fields = new ArrayList&lt;&gt;();
            for ( ModelField field : modelClass.getFields( version ) )
            {
                XmlFieldMetadata xmlFieldMetadata = (XmlFieldMetadata) field.getMetadata( XmlFieldMetadata.ID );
                if ( xmlFieldMetadata.isTransient() )
                {
                    // just ignore xml.transient fields
                    continue;
                }
                if ( xmlFieldMetadata.getInsertParentFieldsUpTo() != null )
                {
                    // insert fields from parent up to the specified field
                    boolean found = false;
                    while ( !found &amp;&amp; parentIter.hasNext() )
                    {
                        ModelField parentField = parentIter.next();
                        fields.add( parentField );
                        found = parentField.getName().equals( xmlFieldMetadata.getInsertParentFieldsUpTo() );
                    }
                    if ( !found )
                    {
                        // interParentFieldsUpTo not found
                        throw new ModelloRuntimeException( &quot;parent field not found: class &quot;
                                + modelClass.getName() + &quot; xml.insertParentFieldUpTo='&quot;
                                + xmlFieldMetadata.getInsertParentFieldsUpTo() + &quot;'&quot; );
                    }
                }
                fields.add( field );
            }
            // add every remaining fields from parent class
            while ( parentIter.hasNext() )
            {
                fields.add( parentIter.next() );
            }
        }
        return fields;
    }
}</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonWriterGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonWriterGenerator.html#L309">309</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.html#L372">372</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>sc.add( &quot;generator.writeObjectFieldStart( \&quot;&quot; + fieldTagName + &quot;\&quot; );&quot; );
                        }

                        StringBuilder entryTypeBuilder = new StringBuilder( &quot;java.util.Map.Entry&quot; );

                        if ( useJava5 )
                        {
                            entryTypeBuilder.append( '&lt;' );

                            if ( association.getType().equals( ModelDefault.PROPERTIES ) )
                            {
                                entryTypeBuilder.append( &quot;Object, Object&quot; );
                            }
                            else
                            {
                                entryTypeBuilder.append( &quot;String, &quot; ).append( association.getTo() );
                            }

                            entryTypeBuilder.append( '&gt;' );
                        }

                        if ( useJava5 )
                        {
                            sc.add( &quot;for ( &quot; + entryTypeBuilder + &quot; entry : &quot; + value + &quot;.entrySet() )&quot; );
                        }
                        else
                        {
                            sc.add( &quot;for ( java.util.Iterator it = &quot; + value + &quot;.entrySet().iterator(); it.hasNext(); )&quot; );
                        }

                        sc.add( &quot;{&quot; );
                        sc.indent();

                        if ( !useJava5 )
                        {
                            sc.add( entryTypeBuilder + &quot; entry = (&quot; + entryTypeBuilder + &quot;) it.next();&quot; );
                        }

                        sc.add( &quot;final String key = String.valueOf( entry.getKey() );&quot; );
                        sc.add( &quot;final String value = String.valueOf( entry.getValue() );&quot; );

                        if ( xmlAssociationMetadata.isMapExplode() )
                        {
                            sc.add( &quot;generator.writeStartObject();&quot; );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.html#L239">239</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.html#L287">287</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>sc.add( &quot;Element element = parentElement.addElement( tagName );&quot; );
        }

        ModelField contentField = null;

        String contentValue = null;

        List&lt;ModelField&gt; modelFields = getFieldsForXml( modelClass, getGeneratedVersion() );

        // XML attributes
        for ( ModelField field : modelFields )
        {
            XmlFieldMetadata xmlFieldMetadata = (XmlFieldMetadata) field.getMetadata( XmlFieldMetadata.ID );

            JavaFieldMetadata javaFieldMetadata = (JavaFieldMetadata) field.getMetadata( JavaFieldMetadata.ID );

            String fieldTagName = resolveTagName( field, xmlFieldMetadata );

            String type = field.getType();

            String value = uncapClassName + &quot;.&quot; + getPrefix( javaFieldMetadata ) + capitalise( field.getName() ) + &quot;()&quot;;

            if ( xmlFieldMetadata.isContent() )
            {
                contentField = field;
                contentValue = value;
                continue;
            }

            if ( xmlFieldMetadata.isAttribute() )
            {
                sc.add( getValueChecker( type, value, field ) );

                sc.add( &quot;{&quot; );
                sc.addIndented( &quot;element.addAttribute( \&quot;&quot; + fieldTagName + &quot;\&quot;, &quot;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.html#L242">242</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.html#L210">210</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.html#L290">290</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>ModelField contentField = null;

        String contentValue = null;

        List&lt;ModelField&gt; modelFields = getFieldsForXml( modelClass, getGeneratedVersion() );

        // XML attributes
        for ( ModelField field : modelFields )
        {
            XmlFieldMetadata xmlFieldMetadata = (XmlFieldMetadata) field.getMetadata( XmlFieldMetadata.ID );

            JavaFieldMetadata javaFieldMetadata = (JavaFieldMetadata) field.getMetadata( JavaFieldMetadata.ID );

            String fieldTagName = resolveTagName( field, xmlFieldMetadata );

            String type = field.getType();

            String value = uncapClassName + &quot;.&quot; + getPrefix( javaFieldMetadata ) + capitalise( field.getName() ) + &quot;()&quot;;

            if ( xmlFieldMetadata.isContent() )
            {
                contentField = field;
                contentValue = value;
                continue;
            }

            if ( xmlFieldMetadata.isAttribute() )
            {
                sc.add( getValueChecker( type, value, field ) );

                sc.add( &quot;{&quot; );
                sc.addIndented( &quot;element.addAttribute( \&quot;&quot; + fieldTagName + &quot;\&quot;, &quot;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.html#L419">419</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L431">431</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>sc.unindent();
            sc.add( &quot;}&quot; );
        }

        sc.add( &quot;return &quot; + uncapClassName + &quot;;&quot; );

        jClass.addMethod( unmarshall );
    }

    /**
     * Generate code to process a field represented as an XML element.
     *
     * @param field the field to process
     * @param xmlFieldMetadata its XML metadata
     * @param addElse add an &lt;code&gt;else&lt;/code&gt; statement before generating a new &lt;code&gt;if&lt;/code&gt;
     * @param sc the method source code to add to
     * @param objectName the object name in the source
     * @param jClass the generated class source file
     */
    private void processField( ModelField field, XmlFieldMetadata xmlFieldMetadata, boolean addElse, JSourceCode sc,
                               String objectName, JClass jClass )
    {
        String fieldTagName = resolveTagName( field, xmlFieldMetadata );

        String capFieldName = capitalise( field.getName() );

        String singularName = singular( field.getName() );

        String alias;
        if ( StringUtils.isEmpty( field.getAlias() ) )
        {
            alias = &quot;null&quot;;
        }
        else
        {
            alias = &quot;\&quot;&quot; + field.getAlias() + &quot;\&quot;&quot;;
        }

        String tagComparison = ( addElse ? &quot;else &quot; : &quot;&quot; )
            + &quot;if ( checkFieldWithDuplicate( childElement, \&quot;&quot; + fieldTagName + &quot;\&quot;, &quot; + alias + &quot;, parsed ) )&quot;;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L969">969</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L1055">1055</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.html#L1628">1628</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>}

    private void addTrackingParameters( JMethod method )
    {
        if ( sourceTracker != null )
        {
            method.addParameter( new JParameter( new JClass( sourceTracker.getName() ), SOURCE_PARAM ) );
        }
    }

    private void writeNewSetLocation( ModelField field, String objectName, String trackerVariable, JSourceCode sc )
    {
        writeNewSetLocation( &quot;\&quot;&quot; + field.getName() + &quot;\&quot;&quot;, objectName, trackerVariable, sc );
    }

    private void writeNewSetLocation( String key, String objectName, String trackerVariable, JSourceCode sc )
    {
        writeNewLocation( trackerVariable, sc );
        writeSetLocation( key, objectName, trackerVariable, sc );
    }

    private void writeNewLocation( String trackerVariable, JSourceCode sc )
    {
        if ( locationTracker == null )
        {
            return;
        }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/sax/SaxWriterGenerator.java</td>
<td>Modello SAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/sax/SaxWriterGenerator.html#L266">266</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.html#L222">222</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>createXpp3DomMethod( jClass );
        }

        jClass.print( sourceWriter );

        sourceWriter.close();
    }

    private void writeAllClasses( Model objectModel, JClass jClass )
        throws ModelloException
    {
        for ( ModelClass clazz : getClasses( objectModel ) )
        {
            writeClass( clazz, jClass );
        }
    }

    private void writeClass( ModelClass modelClass, JClass jClass )
        throws ModelloException
    {
        String className = modelClass.getName();

        String uncapClassName = uncapitalise( className );

        JMethod marshall = new JMethod( &quot;write&quot; + className );

        marshall.addParameter( new JParameter( new JClass( className ), uncapClassName ) );
        marshall.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;tagName&quot; ) );
        marshall.addParameter( new JParameter( new JClass( &quot;ContentHandler&quot; ), &quot;contentHandler&quot; ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.html#L177">177</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/stax/StaxWriterGenerator.java</td>
<td>Modello StAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/stax/StaxWriterGenerator.html#L226">226</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>writeDomHelpers( jClass );
        }

        jClass.print( sourceWriter );

        sourceWriter.close();
    }

    private void writeAllClasses( Model objectModel, JClass jClass )
        throws ModelloException
    {
        for ( ModelClass clazz : getClasses( objectModel ) )
        {
            writeClass( clazz, jClass );
        }
    }

    private void writeClass( ModelClass modelClass, JClass jClass )
        throws ModelloException
    {
        String className = modelClass.getName();

        String uncapClassName = uncapitalise( className );

        JMethod marshall = new JMethod( &quot;write&quot; + className );
        marshall.getModifiers().makePrivate();

        marshall.addParameter( new JParameter( new JClass( className ), uncapClassName ) );
        marshall.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;tagName&quot; ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.html#L249">249</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/sax/SaxWriterGenerator.java</td>
<td>Modello SAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/sax/SaxWriterGenerator.html#L317">317</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.html#L297">297</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>for ( ModelField field : modelFields )
        {
            XmlFieldMetadata xmlFieldMetadata = (XmlFieldMetadata) field.getMetadata( XmlFieldMetadata.ID );

            JavaFieldMetadata javaFieldMetadata = (JavaFieldMetadata) field.getMetadata( JavaFieldMetadata.ID );

            String fieldTagName = resolveTagName( field, xmlFieldMetadata );

            String type = field.getType();

            String value = uncapClassName + &quot;.&quot; + getPrefix( javaFieldMetadata ) + capitalise( field.getName() ) + &quot;()&quot;;

            if ( xmlFieldMetadata.isContent() )
            {
                contentField = field;
                contentValue = value;
                continue;
            }

            if ( xmlFieldMetadata.isAttribute() )
            {
                sc.add( getValueChecker( type, value, field ) );

                sc.add( &quot;{&quot; );
                sc.addIndented( &quot;element.addAttribute( \&quot;&quot; + fieldTagName + &quot;\&quot;, &quot;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L549">549</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L609">609</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.html#L799">799</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>sc.unindent();
                        sc.add( &quot;}&quot; );

                        adder = associationName + &quot;.add&quot;;
                    }
                    else
                    {
                        adder = objectName + &quot;.add&quot; + association.getTo();
                    }

                    if ( !inModel &amp;&amp; locationTracker != null )
                    {
                        sc.add( locationTracker.getName() + &quot; &quot; + LOCATION_VAR + &quot;s = &quot; + objectName + &quot;.get&quot;
                                    + capitalise( singular( locationField ) ) + &quot;( \&quot;&quot; + field.getName()
                                    + &quot;\&quot; );&quot; );
                        sc.add( &quot;if ( &quot; + LOCATION_VAR + &quot;s == null )&quot; );
                        sc.add( &quot;{&quot; );
                        sc.indent();
                        writeNewSetLocation( field, objectName, LOCATION_VAR + &quot;s&quot;, sc );
                        sc.unindent();
                        sc.add( &quot;}&quot; );
                    }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/java/javasource/JClass.java</td>
<td>Modello Java Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/java/javasource/JClass.html#L674">674</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/java/javasource/JInterface.java</td>
<td>Modello Java Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/java/javasource/JInterface.html#L445">445</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>if ( fieldAnnotations != null ) fieldAnnotations.print( jsw );

            // -- print member
            jsw.write( jField.getModifiers().toString() );
            jsw.write( ' ' );

            JType type = jField.getType();
            String typeName = type.toString();
            //-- for esthetics use short name in some cases
            if ( typeName.equals( toString() ) )
            {
                typeName = type.getLocalName();
            }
            jsw.write( typeName );
            jsw.write( ' ' );
            jsw.write( jField.getName() );

            String init = jField.getInitString();
            if ( init != null )
            {
                jsw.write( &quot; = &quot; );
                jsw.write( init );
            }

            jsw.writeln( ';' );
            jsw.writeln();
        }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/sax/SaxWriterGenerator.java</td>
<td>Modello SAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/sax/SaxWriterGenerator.html#L317">317</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.html#L217">217</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>for ( ModelField field : modelFields )
        {
            XmlFieldMetadata xmlFieldMetadata = (XmlFieldMetadata) field.getMetadata( XmlFieldMetadata.ID );

            JavaFieldMetadata javaFieldMetadata = (JavaFieldMetadata) field.getMetadata( JavaFieldMetadata.ID );

            String fieldTagName = resolveTagName( field, xmlFieldMetadata );

            String type = field.getType();

            String value = uncapClassName + &quot;.&quot; + getPrefix( javaFieldMetadata ) + capitalise( field.getName() ) + &quot;()&quot;;

            if ( xmlFieldMetadata.isContent() )
            {
                contentField = field;
                contentValue = value;
                continue;
            }

            if ( xmlFieldMetadata.isAttribute() )
            {
                sc.add( getValueChecker( type, value, field ) );

                sc.add( &quot;{&quot; );
                sc.addIndented( &quot;attributes.addAttribute( NAMESPACE, \&quot;&quot;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L470">470</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L519">519</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>( addElse ? &quot;else &quot; : &quot;&quot; ) + &quot;if ( checkFieldWithDuplicate( parser, \&quot;&quot; + fieldTagName + &quot;\&quot;, &quot; + alias
                + &quot;, parsed ) )&quot;;

        if ( !( field instanceof ModelAssociation ) )
        { // model field
            sc.add( tagComparison );

            sc.add( &quot;{&quot; );

            sc.indent();

            writePrimitiveField( field, field.getType(), objectName, objectName, &quot;\&quot;&quot; + field.getName() + &quot;\&quot;&quot;,
                                 &quot;set&quot; + capFieldName, sc, false );

            sc.unindent();
            sc.add( &quot;}&quot; );
        }
        else
        { // model association
            ModelAssociation association = (ModelAssociation) field;

            String associationName = association.getName();

            if ( association.isOneMultiplicity() )
            {
                sc.add( tagComparison );

                sc.add( &quot;{&quot; );
                sc.addIndented(</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L536">536</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L596">596</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/stax/StaxReaderGenerator.java</td>
<td>Modello StAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/stax/StaxReaderGenerator.html#L1147">1147</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>if ( javaFieldMetadata.isGetter() &amp;&amp; javaFieldMetadata.isSetter() )
                    {
                        sc.add( type + &quot; &quot; + associationName + &quot; = &quot; + objectName + &quot;.get&quot; + capFieldName + &quot;();&quot; );

                        sc.add( &quot;if ( &quot; + associationName + &quot; == null )&quot; );

                        sc.add( &quot;{&quot; );
                        sc.indent();

                        sc.add( associationName + &quot; = &quot; + association.getDefaultValue() + &quot;;&quot; );

                        sc.add( objectName + &quot;.set&quot; + capFieldName + &quot;( &quot; + associationName + &quot; );&quot; );

                        sc.unindent();
                        sc.add( &quot;}&quot; );

                        adder = associationName + &quot;.add&quot;;
                    }
                    else
                    {
                        adder = objectName + &quot;.add&quot; + association.getTo();
                    }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L814">814</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L789">789</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>}
    }

    private void writeHelpers( JClass jClass )
    {
        JMethod method = new JMethod( &quot;getTrimmedValue&quot;, new JClass( &quot;String&quot; ), null );
        method.getModifiers().makePrivate();

        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;s&quot; ) );

        JSourceCode sc = method.getSourceCode();

        sc.add( &quot;if ( s != null )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;s = s.trim();&quot; );
        sc.add( &quot;}&quot; );

        sc.add( &quot;return s;&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = new JMethod( &quot;getRequiredAttributeValue&quot;, new JClass( &quot;String&quot; ), null );
        method.addException( new JClass( &quot;JsonParseException&quot; ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/java/JavaModelloGenerator.java</td>
<td>Modello Java Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/java/JavaModelloGenerator.html#L1641">1641</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/java/JavaModelloGenerator.java</td>
<td>Modello Java Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/java/JavaModelloGenerator.html#L2370">2370</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>JType componentType = getComponentType( modelAssociation, javaAssociationMetadata );

            String defaultValue = getDefaultValue( modelAssociation, componentType );

            JType type;
            if ( modelAssociation.isGenericType() )
            {
                type = new JCollectionType( modelAssociation.getType(), componentType, useJava5 );
            }
            else if ( ModelDefault.MAP.equals( modelAssociation.getType() ) )
            {
                JMapType mapType = new JMapType( modelAssociation.getType(), defaultValue, componentType, useJava5 );
                defaultValue = mapType.getInstanceName();
                type = mapType;
            }
            else
            {
                type = new JClass( modelAssociation.getType() );
            }

            JField jField = new JField( type, modelAssociation.getName() );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/sax/SaxWriterGenerator.java</td>
<td>Modello SAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/sax/SaxWriterGenerator.html#L385">385</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.html#L261">261</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.html#L335">335</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>for ( ModelField field : modelFields )
        {
            XmlFieldMetadata xmlFieldMetadata = (XmlFieldMetadata) field.getMetadata( XmlFieldMetadata.ID );

            if ( xmlFieldMetadata.isContent() )
            {
                // skip field with type Content
                continue;
            }

            JavaFieldMetadata javaFieldMetadata = (JavaFieldMetadata) field.getMetadata( JavaFieldMetadata.ID );

            String fieldTagName = resolveTagName( field, xmlFieldMetadata );

            String type = field.getType();

            String value = uncapClassName + &quot;.&quot; + getPrefix( javaFieldMetadata ) + capitalise( field.getName() ) + &quot;()&quot;;

            if ( xmlFieldMetadata.isAttribute() )
            {
                continue;
            }

            if ( field instanceof ModelAssociation )
            {
                ModelAssociation association = (ModelAssociation) field;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/sax/SaxWriterGenerator.java</td>
<td>Modello SAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/sax/SaxWriterGenerator.html#L420">420</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/stax/StaxWriterGenerator.java</td>
<td>Modello StAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/stax/StaxWriterGenerator.html#L397">397</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>+ fieldTagName + &quot;\&quot;, contentHandler, attributes );&quot; );
                    sc.add( &quot;}&quot; );
                }
                else
                {
                    //MANY_MULTIPLICITY

                    XmlAssociationMetadata xmlAssociationMetadata =
                        (XmlAssociationMetadata) association.getAssociationMetadata( XmlAssociationMetadata.ID );

                    String valuesTagName = resolveTagName( fieldTagName, xmlAssociationMetadata );

                    type = association.getType();
                    String toType = association.getTo();

                    boolean wrappedItems = xmlAssociationMetadata.isWrappedItems();

                    if ( ModelDefault.LIST.equals( type ) || ModelDefault.SET.equals( type ) )
                    {
                        sc.add( getValueChecker( type, value, association ) );

                        sc.add( &quot;{&quot; );
                        sc.indent();

                        if ( wrappedItems )
                        {
                            sc.add( &quot;contentHandler.startElement( NAMESPACE, \&quot;&quot; + fieldTagName + &quot;\&quot;, \&quot;&quot; + fieldTagName + &quot;\&quot;, attributes );&quot; );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonWriterGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonWriterGenerator.html#L175">175</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.html#L174">174</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>jClass.addMethod( marshall );

        jClass.print( sourceWriter );

        sourceWriter.close();
    }

    private void writeAllClasses( Model objectModel, JClass jClass )
        throws ModelloException
    {
        for ( ModelClass clazz : getClasses( objectModel ) )
        {
            writeClass( clazz, jClass );
        }
    }

    private void writeClass( ModelClass modelClass, JClass jClass )
        throws ModelloException
    {
        String className = modelClass.getName();

        String uncapClassName = uncapitalise( className );

        JMethod marshall = new JMethod( &quot;write&quot; + className );

        marshall.addParameter( new JParameter( new JClass( className ), uncapClassName ) );
        marshall.addParameter( new JParameter( new JClass( &quot;JsonGenerator&quot; ), &quot;generator&quot; ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonWriterGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonWriterGenerator.html#L177">177</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/sax/SaxWriterGenerator.java</td>
<td>Modello SAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/sax/SaxWriterGenerator.html#L269">269</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlWriterGenerator.html#L176">176</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3WriterGenerator.html#L225">225</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>jClass.print( sourceWriter );

        sourceWriter.close();
    }

    private void writeAllClasses( Model objectModel, JClass jClass )
        throws ModelloException
    {
        for ( ModelClass clazz : getClasses( objectModel ) )
        {
            writeClass( clazz, jClass );
        }
    }

    private void writeClass( ModelClass modelClass, JClass jClass )
        throws ModelloException
    {
        String className = modelClass.getName();

        String uncapClassName = uncapitalise( className );

        JMethod marshall = new JMethod( &quot;write&quot; + className );

        marshall.addParameter( new JParameter( new JClass( className ), uncapClassName ) );
        marshall.addParameter( new JParameter( new JClass( &quot;JsonGenerator&quot; ), &quot;generator&quot; ) );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/java/javasource/JCompUnit.java</td>
<td>Modello Java Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/java/javasource/JCompUnit.html#L293">293</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/java/javasource/JStructure.java</td>
<td>Modello Java Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/java/javasource/JStructure.html#L380">380</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>String javaPackagePath = &quot;&quot;;
        if ( ( packageName != null ) &amp;&amp; ( packageName.length() &gt; 0 ) )
        {
            javaPackagePath = packageName.replace( '.', File.separatorChar );
        }

        //-- Create fully qualified path (including 'destDir') to file
        File pathFile;
        if ( destDir == null )
            pathFile = new File( javaPackagePath );
        else
            pathFile = new File( destDir, javaPackagePath );
        if ( !pathFile.exists() )
        {
            pathFile.mkdirs();
        }

        //-- Prefix filename with path
        if ( pathFile.toString().length() &gt; 0 )
            filename = pathFile.toString() + File.separator + filename;

        return filename;
    } //-- getFilename

    /**
     * Returns the name of the package that this JCompUnit is a member of
     * @return the name of the package that this JCompUnit is a member of,
     * or null if there is no current package name defined
     **/
    public String getPackageName()</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L1032">1032</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/stax/StaxReaderGenerator.java</td>
<td>Modello StAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/stax/StaxReaderGenerator.html#L1636">1636</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>writeDateParsingHelper( method.getSourceCode(), &quot;new ParserException( \&quot;\&quot;, event.getStartMark(), e.getMessage(), event.getEndMark() )&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

        method = new JMethod( &quot;getDefaultValue&quot;, new JClass( &quot;String&quot; ), null );
        method.getModifiers().makePrivate();

        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;s&quot; ) );
        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;v&quot; ) );

        sc = method.getSourceCode();

        sc.add( &quot;if ( s == null )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;s = v;&quot; );
        sc.add( &quot;}&quot; );

        sc.add( &quot;return s;&quot; );

        jClass.addMethod( method );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/core/io/ModelReader.java</td>
<td>Modello Core</td>
<td><a href="./xref/org/codehaus/modello/core/io/ModelReader.html#L469">469</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/core/io/ModelReader.java</td>
<td>Modello Core</td>
<td><a href="./xref/org/codehaus/modello/core/io/ModelReader.html#L502">502</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>private void parseCodeSegment( ModelClass modelClass, XmlPullParser parser )
        throws XmlPullParserException, IOException
    {
        while ( parser.nextTag() == XmlPullParser.START_TAG )
        {
            if ( &quot;codeSegment&quot;.equals( parser.getName() ) )
            {
                CodeSegment codeSegment = new CodeSegment();

                while ( parser.nextTag() == XmlPullParser.START_TAG )
                {
                    if ( parseBaseElement( codeSegment, parser ) )
                    {
                    }
                    else if ( &quot;code&quot;.equals( parser.getName() ) )
                    {
                        codeSegment.setCode( parser.nextText() );
                    }
                    else
                    {
                        parser.nextText();
                    }
                }</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.html#L1060">1060</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.html#L1590">1590</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;attribute&quot; ) );
        method.addParameter( new JParameter( JClass.BOOLEAN, &quot;strict&quot; ) );

        JSourceCode sc = method.getSourceCode();

        sc.add( &quot;if ( s != null )&quot; );

        sc.add( &quot;{&quot; );
        sc.indent();

        sc.add( &quot;try&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;return &quot; + expression + &quot;;&quot; );
        sc.add( &quot;}&quot; );

        sc.add( &quot;catch ( NumberFormatException nfe )&quot; );

        sc.add( &quot;{&quot; );
        sc.indent();

        sc.add( &quot;if ( strict )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;throw new DocumentException( \&quot;Unable to parse element '\&quot; + attribute + \&quot;', must be &quot;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L486">486</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.html#L632">632</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>return contentField;
    }

    /**
     * Generate code to process a field represented as an XML element.
     *
     * @param field            the field to process
     * @param xmlFieldMetadata its XML metadata
     * @param addElse          add an &lt;code&gt;else&lt;/code&gt; statement before generating a new &lt;code&gt;if&lt;/code&gt;
     * @param sc               the method source code to add to
     * @param objectName       the object name in the source
     * @param jClass           the generated class source file
     */
    private void processField( ModelField field, XmlFieldMetadata xmlFieldMetadata, boolean addElse, JSourceCode sc,
                               String objectName, JClass jClass )
    {
        String fieldTagName = resolveTagName( field, xmlFieldMetadata );

        String capFieldName = capitalise( field.getName() );

        String singularName = singular( field.getName() );

        String alias;
        if ( StringUtils.isEmpty( field.getAlias() ) )
        {
            alias = &quot;null&quot;;
        }
        else
        {
            alias = &quot;\&quot;&quot; + field.getAlias() + &quot;\&quot;&quot;;
        }

        String tagComparison =
            ( addElse ? &quot;else &quot; : &quot;&quot; ) + &quot;if ( checkFieldWithDuplicate( event, \&quot;&quot; + fieldTagName + &quot;\&quot;, &quot; + alias</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L1206">1206</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/stax/StaxReaderGenerator.java</td>
<td>Modello StAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/stax/StaxReaderGenerator.html#L1907">1907</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>method.addParameter( new JParameter( new JClass( &quot;Event&quot; ), &quot;event&quot; ) );
        method.addParameter( new JParameter( JType.BOOLEAN, &quot;strict&quot; ) );

        JSourceCode sc = method.getSourceCode();

        sc.add( &quot;if ( s != null )&quot; );

        sc.add( &quot;{&quot; );
        sc.indent();

        sc.add( &quot;try&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;return &quot; + expression + &quot;;&quot; );
        sc.add( &quot;}&quot; );

        sc.add( &quot;catch ( NumberFormatException nfe )&quot; );

        sc.add( &quot;{&quot; );
        sc.indent();

        sc.add( &quot;if ( strict )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;throw new ParserException( \&quot;\&quot;, event.getStartMark(), \&quot;Unable to parse element '\&quot; + attribute + \&quot;', must be &quot;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.html#L812">812</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L813">813</a></td></tr>
<tr class="a"><td colspan='3'>
<div>
<pre>throw new IllegalArgumentException( &quot;Unknown type: &quot; + type );
        }
    }

    private void writeHelpers( JClass jClass )
    {
        JMethod method = new JMethod( &quot;getTrimmedValue&quot;, new JClass( &quot;String&quot; ), null );
        method.getModifiers().makePrivate();

        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;s&quot; ) );

        JSourceCode sc = method.getSourceCode();

        sc.add( &quot;if ( s != null )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;s = s.trim();&quot; );
        sc.add( &quot;}&quot; );

        sc.add( &quot;return s;&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

/* TODO
        method = new JMethod( new JClass( &quot;String&quot; ), &quot;getRequiredAttributeValue&quot; );
        method.addException( new JClass( &quot;XmlPullParserException&quot; ) );
        method.getModifiers().makePrivate();

        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;s&quot; ) );
        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;attribute&quot; ) );
        method.addParameter( new JParameter( new JClass( &quot;XmlPullParser&quot; ), &quot;parser&quot; ) );
        method.addParameter( new JParameter( JClass.Boolean, &quot;strict&quot; ) );

        sc = method.getSourceCode();

        sc.add( &quot;if ( s == null )&quot; );

        sc.add( &quot;{&quot; );
        sc.indent();

        sc.add( &quot;if ( strict )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented(
            &quot;throw new XmlPullParserException( \&quot;Missing required value for attribute '\&quot; + attribute + \&quot;'\&quot;, parser, null );&quot; );
        sc.add( &quot;}&quot; );

        sc.unindent();
        sc.add( &quot;}&quot; );

        sc.add( &quot;return s;&quot; );

        jClass.addMethod( method );
*/
        // --------------------------------------------------------------------

        method = new JMethod( &quot;getBooleanValue&quot;, JType.BOOLEAN, null );</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="b">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jWriterGenerator.html#L331">331</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/sax/SaxWriterGenerator.java</td>
<td>Modello SAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/sax/SaxWriterGenerator.html#L420">420</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/stax/StaxWriterGenerator.java</td>
<td>Modello StAX Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/stax/StaxWriterGenerator.html#L397">397</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>sc.addIndented( &quot;write&quot; + association.getTo() + &quot;( &quot; + value + &quot;, \&quot;&quot; + fieldTagName + &quot;\&quot;, element );&quot; );
                sc.add( &quot;}&quot; );
            }
            else
            {
                //MANY_MULTIPLICITY

                XmlAssociationMetadata xmlAssociationMetadata =
                    (XmlAssociationMetadata) association.getAssociationMetadata( XmlAssociationMetadata.ID );

                String valuesTagName = resolveTagName( fieldTagName, xmlAssociationMetadata );

                type = association.getType();
                String toType = association.getTo();

                boolean wrappedItems = xmlAssociationMetadata.isWrappedItems();

                if ( ModelDefault.LIST.equals( type ) || ModelDefault.SET.equals( type ) )
                {
                    sc.add( getValueChecker( type, value, association ) );

                    sc.add( &quot;{&quot; );
                    sc.indent();</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.html#L426">426</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.java</td>
<td>Modello Jackson Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/jackson/JacksonReaderGenerator.html#L438">438</a></td></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L487">487</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.java</td>
<td>Modello XPP3 Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/xpp3/Xpp3ReaderGenerator.html#L633">633</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>}

    /**
     * Generate code to process a field represented as an XML element.
     *
     * @param field the field to process
     * @param xmlFieldMetadata its XML metadata
     * @param addElse add an &lt;code&gt;else&lt;/code&gt; statement before generating a new &lt;code&gt;if&lt;/code&gt;
     * @param sc the method source code to add to
     * @param objectName the object name in the source
     * @param jClass the generated class source file
     */
    private void processField( ModelField field, XmlFieldMetadata xmlFieldMetadata, boolean addElse, JSourceCode sc,
                               String objectName, JClass jClass )
    {
        String fieldTagName = resolveTagName( field, xmlFieldMetadata );

        String capFieldName = capitalise( field.getName() );

        String singularName = singular( field.getName() );

        String alias;
        if ( StringUtils.isEmpty( field.getAlias() ) )
        {
            alias = &quot;null&quot;;
        }
        else
        {
            alias = &quot;\&quot;&quot; + field.getAlias() + &quot;\&quot;&quot;;
        }

        String tagComparison = ( addElse ? &quot;else &quot; : &quot;&quot; )
            + &quot;if ( checkFieldWithDuplicate( childElement, \&quot;&quot; + fieldTagName + &quot;\&quot;, &quot; + alias + &quot;, parsed ) )&quot;;</pre></div></td></tr></table>
<table border="0" class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.java</td>
<td>Modello Dom4J Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/dom4j/Dom4jReaderGenerator.html#L813">813</a></td></tr>
<tr class="a">
<td>org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.java</td>
<td>Modello SnakeYaml Plugin</td>
<td><a href="./xref/org/codehaus/modello/plugin/snakeyaml/SnakeYamlReaderGenerator.html#L789">789</a></td></tr>
<tr class="b"><td colspan='3'>
<div>
<pre>}
    }

    private void writeHelpers( JClass jClass )
    {
        JMethod method = new JMethod( &quot;getTrimmedValue&quot;, new JClass( &quot;String&quot; ), null );
        method.getModifiers().makePrivate();

        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;s&quot; ) );

        JSourceCode sc = method.getSourceCode();

        sc.add( &quot;if ( s != null )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented( &quot;s = s.trim();&quot; );
        sc.add( &quot;}&quot; );

        sc.add( &quot;return s;&quot; );

        jClass.addMethod( method );

        // --------------------------------------------------------------------

/* TODO
        method = new JMethod( new JClass( &quot;String&quot; ), &quot;getRequiredAttributeValue&quot; );
        method.addException( new JClass( &quot;XmlPullParserException&quot; ) );
        method.getModifiers().makePrivate();

        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;s&quot; ) );
        method.addParameter( new JParameter( new JClass( &quot;String&quot; ), &quot;attribute&quot; ) );
        method.addParameter( new JParameter( new JClass( &quot;XmlPullParser&quot; ), &quot;parser&quot; ) );
        method.addParameter( new JParameter( JClass.Boolean, &quot;strict&quot; ) );

        sc = method.getSourceCode();

        sc.add( &quot;if ( s == null )&quot; );

        sc.add( &quot;{&quot; );
        sc.indent();

        sc.add( &quot;if ( strict )&quot; );

        sc.add( &quot;{&quot; );
        sc.addIndented(
            &quot;throw new XmlPullParserException( \&quot;Missing required value for attribute '\&quot; + attribute + \&quot;'\&quot;, parser, null );&quot; );
        sc.add( &quot;}&quot; );

        sc.unindent();
        sc.add( &quot;}&quot; );

        sc.add( &quot;return s;&quot; );

        jClass.addMethod( method );
*/
        // --------------------------------------------------------------------

        method = new JMethod( &quot;getBooleanValue&quot;, JType.BOOLEAN, null );</pre></div></td></tr></table></section>
        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>&#169;      2001&#x2013;2022
<a href="http://codehaus-plexus.github.io/">Codehaus Plexus</a>
</p>
        </div>
      </div>
    </footer>
<script>
	if(anchors) {
	  anchors.add();
	}
</script>
  </body>
</html>